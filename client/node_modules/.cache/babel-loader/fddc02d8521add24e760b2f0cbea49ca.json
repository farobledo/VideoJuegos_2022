{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fabia\\\\OneDrive\\\\Documentos\\\\HENRY\\\\PI_2022\\\\pi-videogames\\\\client\\\\src\\\\components\\\\CreateVideogame.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-expressions */\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getGenres } from \"../actions\";\nimport axios from \"axios\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from '../styles/Create.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function validate(newVideogame) {\n  let errors = {};\n\n  if (!newVideogame.name) {\n    errors.name = \"Introduce a name\";\n  } else if (!/^[^\\W0-9_][a-zA-Z0-9\\s]+$/.test(newVideogame.name)) {\n    errors.name = \"Invalid name\";\n  }\n\n  if (!newVideogame.rating || newVideogame.rating > 5) {\n    errors.rating = \"Rating must be a number between 0-5\";\n  }\n\n  if (!newVideogame.imageUrl) {\n    errors.imageUrl = \"Introduce an image in format .jpg, .jpeg or .png\";\n  }\n\n  if (!newVideogame.description) {\n    errors.description = \"Describe your videogame\";\n  }\n\n  if (newVideogame.platforms.length === 0) {\n    errors.platforms = \"Choose the platforms\";\n  }\n\n  if (!newVideogame.genres.length) {\n    errors.genres = \"Choose the genres\";\n  }\n\n  return errors;\n}\nexport function CreateVideogame() {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const stateGenre = useSelector(state => state.genres);\n  const stateVideogames = useSelector(state => state.videogames);\n  const platformsArr = [\"PC\", \"PlayStation 3\", \"PlayStation 4\", \"PlayStation 5\", \"macOS\", \"Linux\", \"Xbox360\", \"Android\", \"Nintendo Switch\", \"iOS\", \"Xbox One\", \"Xbox Series S/X\"];\n  const [errors, setErrors] = useState({});\n  const [newVideogame, setNewVideogame] = useState({\n    name: \"\",\n    releaseDate: \"\",\n    rating: \"\",\n    imageUrl: \"\",\n    description: \"\",\n    platforms: \"\",\n    genres: []\n  });\n  useEffect(() => {\n    dispatch(getGenres());\n  }, [dispatch]);\n\n  const validateName = name => {\n    let validate = stateVideogames.map(el => el.name);\n    return validate.includes(name);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (validateName(newVideogame.name)) {\n      alert(`${newVideogame.name} already exists`);\n    } else {\n      setNewVideogame({\n        name: \"\",\n        releaseDate: \"\",\n        rating: \"\",\n        imageUrl: \"\",\n        description: \"\",\n        platforms: \"\",\n        genres: []\n      });\n      await axios.post(\"http://localhost:3001/videogame/create\", newVideogame);\n      alert(`${newVideogame.name} was created successfully!`);\n      history.push(\"/home\");\n    }\n  };\n\n  const handleChange = e => {\n    setNewVideogame({ ...newVideogame,\n      [e.target.name]: e.target.value\n    });\n    setErrors(validate({ ...newVideogame,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSelect = e => {\n    updGenres(e);\n    setNewVideogame({ ...newVideogame,\n      genres: newVideogame.genres.includes(e.target.value) ? newVideogame.genres : newVideogame.genres.push(e.target.value)\n    });\n    setErrors(validate({ ...newVideogame,\n      genres: newVideogame.genres\n    }));\n  };\n\n  const updGenres = g => {\n    let arr = newVideogame.genres;\n    let val = g.target.value;\n    arr.includes(val) ? arr : arr.push(val);\n  };\n\n  const handleChoice = op => {\n    setNewVideogame({ ...newVideogame,\n      platforms: !newVideogame.platforms.includes(op.target.value) ? newVideogame.platforms.concat(newVideogame.platforms.length > 0 ? \", \" + op.target.value : op.target.value) : newVideogame.platforms\n    });\n    setErrors(validate({ ...newVideogame,\n      platforms: op.target.value\n    }));\n  };\n\n  const handleResetPlatforms = e => {\n    e.preventDefault();\n    setNewVideogame({ ...newVideogame,\n      platforms: ''\n    });\n  };\n\n  const handleResetGenres = e => {\n    e.preventDefault();\n    setNewVideogame({ ...newVideogame,\n      genres: []\n    });\n  };\n\n  const getGname = g => {\n    let label;\n    stateGenre.map(o => o.id === g ? label = o.name : false);\n    return label;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.form,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Crear nuevo videojuego\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        handleSubmit(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.labels,\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name\",\n          value: newVideogame.name,\n          onChange: handleChange,\n          className: styles.inputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.warningError,\n          children: errors.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.labels,\n          children: \"Release Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"releaseDate\",\n          value: newVideogame.releaseDate,\n          onChange: handleChange,\n          className: styles.inputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.warningError,\n          children: errors.releaseDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.labels,\n          children: \"Rating:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"0\",\n          max: \"5\",\n          name: \"rating\",\n          step: \"0.01\",\n          value: newVideogame.rating,\n          onChange: handleChange,\n          className: styles.inputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.warningError,\n          children: errors.rating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.labels,\n          children: \"ImageURL:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"imageUrl\",\n          value: newVideogame.imageUrl,\n          onChange: handleChange,\n          className: styles.inputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.warningError,\n          children: errors.imageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.labels,\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"description\",\n          value: newVideogame.description,\n          onChange: handleChange,\n          className: styles.inputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.warningError,\n          children: errors.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.labels,\n          children: \"Platforms:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: styles.selectors,\n          onChange: handleChoice,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            disabled: true,\n            selected: true,\n            children: \"Select platforms...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 11\n          }, this), platformsArr.map((op, i) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: op,\n              children: op\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 47\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: newVideogame.platforms\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => handleResetPlatforms(e),\n          className: styles.buttonReset,\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.warningError,\n          children: errors.platforms\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: styles.labels,\n          children: \"Genres:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: styles.selectors,\n          onChange: handleSelect,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            disabled: true,\n            selected: true,\n            children: \"Select genres...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 10\n          }, this), stateGenre.map((op, i) => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: op.id,\n              children: op.name\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 18\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => handleResetGenres(e),\n          className: styles.buttonReset,\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: newVideogame.genres.map(g => getGname(g)).join(\", \")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.warningError,\n          children: errors.genres\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.button,\n          children: \"Salir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !newVideogame.name || !newVideogame.releaseDate || !newVideogame.imageUrl || !newVideogame.rating || !newVideogame.description || !newVideogame.platforms || !newVideogame.genres.length,\n        className: styles.button,\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateVideogame, \"MoKKMzA7tDBmWlpKykU5b/hOvyo=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector];\n});\n\n_c = CreateVideogame;\nexport default CreateVideogame; // import React, { useState, useEffect } from \"react\";\n// import { useSelector, useDispatch } from \"react-redux\";\n// import { getGenres } from \"../actions\";\n// import axios from \"axios\";\n// import { Link, useHistory } from \"react-router-dom\";\n// import styles from '../styles/Create.module.css'\n// export function validate(newVideogame) {\n//   let errors = {};\n//   if (!newVideogame.name) {\n//     errors.name = \"Introduce a name\";\n//   } else if (!/^[^\\W0-9_][a-zA-Z0-9\\s]+$/.test(newVideogame.name)){\n//     errors.name = \"Invalid name\";\n//   }\n//   if (!newVideogame.rating || newVideogame.rating > 5){\n//    errors.rating = \"Rating must be a number between 0-5\"\n//   }\n//   if (!newVideogame.imageUrl){\n//     errors.imageUrl = \"Introduce an image in format .jpg, .jpeg or .png\"\n//   }\n//   if (!newVideogame.description){\n//     errors.description = \"Describe your videogame\"\n//   }\n//   if(newVideogame.platforms.length === 0) {\n//     errors.platforms = \"Choose the platforms\"\n//   }\n//   if(!newVideogame.genres.length) {\n//     errors.genres = \"Choose the genres\"\n//   }\n//   return errors;\n// }\n// export function CreateVideogame() {\n//   const history = useHistory();\n//   const dispatch = useDispatch();\n//   const stateGenre = useSelector((state) => state.genres);\n//   const stateVideogames = useSelector((state)=> state.videogames);\n//   const platformsArr = [\"PC\", \"PlayStation 3\", \"PlayStation 4\", \"PlayStation 5\", \"macOS\", \"Linux\", \"Xbox360\", \"Android\", \"Nintendo Switch\", \"iOS\", \"Xbox One\", \"Xbox Series S/X\"]\n//   const [errors, setErrors] = useState({})\n//   const [newVideogame, setNewVideogame] = useState({\n//     name: \"\",\n//     releaseDate: \"\",\n//     rating: \"\",\n//     imageUrl: \"\",\n//     description: \"\",\n//     platforms: \"\",\n//     genres: [],\n//   });\n//   useEffect(() => {\n//     dispatch(getGenres());\n//   }, [\n//     dispatch,\n//   ]);\n//   const validateName = (name) => {\n//     let validate = stateVideogames.map(el => el.name)\n//     return validate.includes(name) \n//   }\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     if(validateName(newVideogame.name)){\n//       alert(`${newVideogame.name} already exists`)\n//     }else{\n//     setNewVideogame({\n//       name: \"\",\n//       releaseDate: \"\",\n//       rating: \"\",\n//       imageUrl: \"\",\n//       description: \"\",\n//       platforms: \"\",\n//       genres: [],\n//     })\n//     await axios.post(\"http://localhost:3001/videogame/create\", newVideogame)\n//     alert(`${newVideogame.name} was created successfully!`)\n//     history.push(\"/home\")\n//     }\n//   };\n//   const handleChange = (e) => {\n//     setNewVideogame({\n//       ...newVideogame,\n//       [e.target.name]: e.target.value,\n//     });\n//     setErrors(validate({\n//       ...newVideogame,\n//       [e.target.name] : e.target.value\n//     }))\n//   };\n//   const handleSelect = (e) => {\n//     updGenres(e)\n//     setNewVideogame({\n//       ...newVideogame,\n//       genres: newVideogame.genres.includes(e.target.value) ? newVideogame.genres : newVideogame.genres.push(e.target.value),\n//     });\n//     setErrors(validate({\n//       ...newVideogame,\n//       genres : newVideogame.genres\n//     }))\n//   };\n//   const updGenres = (g) => {\n//     let arr = newVideogame.genres\n//     let val = g.target.value\n//     arr = arr.includes(val) ? arr : arr.push(val)\n//   }\n//   const handleChoice = (op) => {\n//     setNewVideogame({\n//       ...newVideogame,\n//       platforms: !newVideogame.platforms.includes(op.target.value) ? newVideogame.platforms.concat(newVideogame.platforms.length > 0 ? \", \" + op.target.value : op.target.value) : newVideogame.platforms\n//     })\n//     setErrors(validate({\n//       ...newVideogame,\n//       platforms : op.target.value\n//     }))\n//   };\n//   const handleResetPlatforms = (e) => {\n//     e.preventDefault()\n//     setNewVideogame({\n//       ...newVideogame,\n//       platforms: ''\n//     })\n//   }\n//   const handleResetGenres = (e) => {\n//     e.preventDefault()\n//     setNewVideogame({\n//       ...newVideogame,\n//       genres: []\n//     })\n//   }\n//   const getGname = (g) => {\n//     let label\n//     stateGenre.map(o => o.id === g ? label = o.name : false)\n//     return label\n//   }\n//   return (\n//     <div className={styles.form}>\n//       <h1>Create your own Videogame</h1>\n//       <form onSubmit={(e)=>{handleSubmit(e)}}>\n//         <div>\n//         <label className={styles.labels}>Name:</label>\n//         <input name=\"name\" value={newVideogame.name} onChange={handleChange} className={styles.inputs}/>\n//         <div className={styles.warningError}>{errors.name}</div>\n//         </div>\n//         <div>\n//         <label className={styles.labels}>Release Date:</label>\n//         <input type='date' name=\"releaseDate\" value={newVideogame.releaseDate} onChange={handleChange} className={styles.inputs}/>\n//         <div className={styles.warningError}>{errors.releaseDate}</div>\n//         </div>\n//         <div>\n//         <label className={styles.labels}>Rating:</label>\n//         <input type='number' min='0' max='5' name=\"rating\" step=\"0.01\" value={newVideogame.rating} onChange={handleChange} className={styles.inputs}/>\n//         <div className={styles.warningError}>{errors.rating}</div>\n//         </div>\n//         <div>\n//         <label className={styles.labels}>ImageURL:</label>\n//         <input name=\"imageUrl\" value={newVideogame.imageUrl} onChange={handleChange} className={styles.inputs}/>\n//         <div className={styles.warningError}>{errors.imageUrl}</div>\n//         </div>\n//         <div>\n//         <label className={styles.labels}>Description:</label>\n//         <input name=\"description\" value={newVideogame.description} onChange={handleChange} className={styles.inputs}/>\n//         <div className={styles.warningError}>{errors.description}</div>\n//         </div>\n//         <div>\n//         <label className={styles.labels}>Platforms:</label>\n//         <select className={styles.selectors} onChange={handleChoice}>\n//           <option disabled selected>Select platforms...</option> \n//           {platformsArr.map((op, i) =>{return <option value={op} key={i}>{op}</option>})}\n//         </select>\n//         <div>{newVideogame.platforms}</div>\n//         <button onClick={(e)=>handleResetPlatforms(e)} className={styles.buttonReset}>Clear</button>\n//         <div className={styles.warningError}>{errors.platforms}</div>\n//         </div>\n//         <div>\n//         <label className={styles.labels}>Genres:</label>\n//          <select className={styles.selectors} onChange={handleSelect}>\n//          <option disabled selected>Select genres...</option> \n//            {stateGenre.map((op, i) =>{\n//           return <option value={op.id} key={i}>{op.name}</option>\n//         })}</select>\n//         <button onClick={(e)=>handleResetGenres(e)} className={styles.buttonReset}>Clear</button>\n//         <div>{newVideogame.genres.map(g => getGname(g)).join(\", \")}</div>\n//         <div className={styles.warningError}>{errors.genres}</div>\n//         </div>\n//         <Link to='/home'><button  className={styles.button}>Back</button></Link>\n//         <button type=\"submit\" disabled={!newVideogame.name || !newVideogame.releaseDate || !newVideogame.imageUrl || !newVideogame.rating || !newVideogame.description || !newVideogame.platforms || !newVideogame.genres.length} className={styles.button}>Create</button>\n//       </form>\n//     </div>\n//   );\n// }\n// export default CreateVideogame;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateVideogame\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","getGenres","axios","Link","useHistory","styles","validate","newVideogame","errors","name","test","rating","imageUrl","description","platforms","length","genres","CreateVideogame","history","dispatch","stateGenre","state","stateVideogames","videogames","platformsArr","setErrors","setNewVideogame","releaseDate","validateName","map","el","includes","handleSubmit","e","preventDefault","alert","post","push","handleChange","target","value","handleSelect","updGenres","g","arr","val","handleChoice","op","concat","handleResetPlatforms","handleResetGenres","getGname","label","o","id","form","labels","inputs","warningError","selectors","i","buttonReset","join","button"],"sources":["C:/Users/fabia/OneDrive/Documentos/HENRY/PI_2022/pi-videogames/client/src/components/CreateVideogame.jsx"],"sourcesContent":["/* eslint-disable no-unused-expressions */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getGenres } from \"../actions\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport styles from '../styles/Create.module.css'\r\n\r\nexport function validate(newVideogame) {\r\n\r\n  let errors = {};\r\n\r\n  if (!newVideogame.name) {\r\n    errors.name = \"Introduce a name\";\r\n  } else if (!/^[^\\W0-9_][a-zA-Z0-9\\s]+$/.test(newVideogame.name)){\r\n    errors.name = \"Invalid name\";\r\n  }\r\n  if (!newVideogame.rating || newVideogame.rating > 5){\r\n   errors.rating = \"Rating must be a number between 0-5\"\r\n  }\r\n  if (!newVideogame.imageUrl){\r\n    errors.imageUrl = \"Introduce an image in format .jpg, .jpeg or .png\"\r\n  }\r\n  if (!newVideogame.description){\r\n    errors.description = \"Describe your videogame\"\r\n  }\r\n  if(newVideogame.platforms.length === 0) {\r\n    errors.platforms = \"Choose the platforms\"\r\n  }\r\n  if(!newVideogame.genres.length) {\r\n    errors.genres = \"Choose the genres\"\r\n  }\r\n  return errors;\r\n}\r\n\r\nexport function CreateVideogame() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const stateGenre = useSelector((state) => state.genres);\r\n  const stateVideogames = useSelector((state)=> state.videogames);\r\n  const platformsArr = [\"PC\", \"PlayStation 3\", \"PlayStation 4\", \"PlayStation 5\", \"macOS\", \"Linux\", \"Xbox360\", \"Android\", \"Nintendo Switch\", \"iOS\", \"Xbox One\", \"Xbox Series S/X\"]\r\n  \r\n  const [errors, setErrors] = useState({})\r\n\r\n  const [newVideogame, setNewVideogame] = useState({\r\n    name: \"\",\r\n    releaseDate: \"\",\r\n    rating: \"\",\r\n    imageUrl: \"\",\r\n    description: \"\",\r\n    platforms: \"\",\r\n    genres: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(getGenres());\r\n  }, [\r\n    dispatch,\r\n  ]);\r\n\r\n  const validateName = (name) => {\r\n    let validate = stateVideogames.map(el => el.name)\r\n    return validate.includes(name) \r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if(validateName(newVideogame.name)){\r\n      alert(`${newVideogame.name} already exists`)\r\n    }else{\r\n    setNewVideogame({\r\n      name: \"\",\r\n      releaseDate: \"\",\r\n      rating: \"\",\r\n      imageUrl: \"\",\r\n      description: \"\",\r\n      platforms: \"\",\r\n      genres: [],\r\n    })\r\n    await axios.post(\"http://localhost:3001/videogame/create\", newVideogame)\r\n    alert(`${newVideogame.name} was created successfully!`)\r\n    history.push(\"/home\")\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setNewVideogame({\r\n      ...newVideogame,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    setErrors(validate({\r\n      ...newVideogame,\r\n      [e.target.name] : e.target.value\r\n    }))\r\n  };\r\n\r\n  const handleSelect = (e) => {\r\n    updGenres(e)\r\n    setNewVideogame({\r\n      ...newVideogame,\r\n      genres: newVideogame.genres.includes(e.target.value) ? newVideogame.genres : newVideogame.genres.push(e.target.value),\r\n    });\r\n    setErrors(validate({\r\n      ...newVideogame,\r\n      genres : newVideogame.genres\r\n    }))\r\n  };\r\n\r\n  const updGenres = (g) => {\r\n    let arr = newVideogame.genres\r\n    let val = g.target.value\r\n    arr.includes(val) ? arr : arr.push(val)\r\n  }\r\n\r\n  const handleChoice = (op) => {\r\n    setNewVideogame({\r\n      ...newVideogame,\r\n      platforms: !newVideogame.platforms.includes(op.target.value) ? newVideogame.platforms.concat(newVideogame.platforms.length > 0 ? \", \" + op.target.value : op.target.value) : newVideogame.platforms\r\n    })\r\n    setErrors(validate({\r\n      ...newVideogame,\r\n      platforms : op.target.value\r\n    }))\r\n  };\r\n\r\n  const handleResetPlatforms = (e) => {\r\n    e.preventDefault()\r\n    setNewVideogame({\r\n      ...newVideogame,\r\n      platforms: ''\r\n    })\r\n  }\r\n  const handleResetGenres = (e) => {\r\n    e.preventDefault()\r\n    setNewVideogame({\r\n      ...newVideogame,\r\n      genres: []\r\n    })\r\n  }\r\n  \r\n  const getGname = (g) => {\r\n    let label\r\n    stateGenre.map(o => o.id === g ? label = o.name : false)\r\n    return label\r\n  }\r\n\r\n  return (\r\n    <div className={styles.form}>\r\n      <h1>Crear nuevo videojuego</h1>\r\n      <form onSubmit={(e)=>{handleSubmit(e)}}>\r\n        <div>\r\n        <label className={styles.labels}>Name:</label>\r\n        <input name=\"name\" value={newVideogame.name} onChange={handleChange} className={styles.inputs}/>\r\n        <div className={styles.warningError}>{errors.name}</div>\r\n        </div>\r\n        <div>\r\n        <label className={styles.labels}>Release Date:</label>\r\n        <input type='date' name=\"releaseDate\" value={newVideogame.releaseDate} onChange={handleChange} className={styles.inputs}/>\r\n        <div className={styles.warningError}>{errors.releaseDate}</div>\r\n        </div>\r\n        <div>\r\n        <label className={styles.labels}>Rating:</label>\r\n        <input type='number' min='0' max='5' name=\"rating\" step=\"0.01\" value={newVideogame.rating} onChange={handleChange} className={styles.inputs}/>\r\n        <div className={styles.warningError}>{errors.rating}</div>\r\n        </div>\r\n        <div>\r\n        <label className={styles.labels}>ImageURL:</label>\r\n        <input name=\"imageUrl\" value={newVideogame.imageUrl} onChange={handleChange} className={styles.inputs}/>\r\n        <div className={styles.warningError}>{errors.imageUrl}</div>\r\n        </div>\r\n        <div>\r\n        <label className={styles.labels}>Description:</label>\r\n        <input name=\"description\" value={newVideogame.description} onChange={handleChange} className={styles.inputs}/>\r\n        <div className={styles.warningError}>{errors.description}</div>\r\n        </div>\r\n        <div>\r\n        <label className={styles.labels}>Platforms:</label>\r\n        <select className={styles.selectors} onChange={handleChoice}>\r\n          <option disabled selected>Select platforms...</option> \r\n          {platformsArr.map((op, i) =>{return <option value={op} key={i}>{op}</option>})}\r\n        </select>\r\n        <div>{newVideogame.platforms}</div>\r\n        <button onClick={(e)=>handleResetPlatforms(e)} className={styles.buttonReset}>Clear</button>\r\n        <div className={styles.warningError}>{errors.platforms}</div>\r\n        </div>\r\n        <div>\r\n        <label className={styles.labels}>Genres:</label>\r\n         <select className={styles.selectors} onChange={handleSelect}>\r\n         <option disabled selected>Select genres...</option> \r\n           {stateGenre.map((op, i) =>{\r\n          return <option value={op.id} key={i}>{op.name}</option>\r\n        })}</select>\r\n        <button onClick={(e)=>handleResetGenres(e)} className={styles.buttonReset}>Clear</button>\r\n        <div>{newVideogame.genres.map(g => getGname(g)).join(\", \")}</div>\r\n        <div className={styles.warningError}>{errors.genres}</div>\r\n        </div>\r\n        <Link to='/home'><button  className={styles.button}>Salir</button></Link>\r\n        <button type=\"submit\" disabled={!newVideogame.name || !newVideogame.releaseDate || !newVideogame.imageUrl || !newVideogame.rating || !newVideogame.description || !newVideogame.platforms || !newVideogame.genres.length} className={styles.button}>Create</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default CreateVideogame;\r\n\r\n\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { useSelector, useDispatch } from \"react-redux\";\r\n// import { getGenres } from \"../actions\";\r\n// import axios from \"axios\";\r\n// import { Link, useHistory } from \"react-router-dom\";\r\n// import styles from '../styles/Create.module.css'\r\n\r\n// export function validate(newVideogame) {\r\n\r\n//   let errors = {};\r\n\r\n//   if (!newVideogame.name) {\r\n//     errors.name = \"Introduce a name\";\r\n//   } else if (!/^[^\\W0-9_][a-zA-Z0-9\\s]+$/.test(newVideogame.name)){\r\n//     errors.name = \"Invalid name\";\r\n//   }\r\n//   if (!newVideogame.rating || newVideogame.rating > 5){\r\n//    errors.rating = \"Rating must be a number between 0-5\"\r\n//   }\r\n//   if (!newVideogame.imageUrl){\r\n//     errors.imageUrl = \"Introduce an image in format .jpg, .jpeg or .png\"\r\n//   }\r\n//   if (!newVideogame.description){\r\n//     errors.description = \"Describe your videogame\"\r\n//   }\r\n//   if(newVideogame.platforms.length === 0) {\r\n//     errors.platforms = \"Choose the platforms\"\r\n//   }\r\n//   if(!newVideogame.genres.length) {\r\n//     errors.genres = \"Choose the genres\"\r\n//   }\r\n//   return errors;\r\n// }\r\n\r\n// export function CreateVideogame() {\r\n//   const history = useHistory();\r\n//   const dispatch = useDispatch();\r\n//   const stateGenre = useSelector((state) => state.genres);\r\n//   const stateVideogames = useSelector((state)=> state.videogames);\r\n//   const platformsArr = [\"PC\", \"PlayStation 3\", \"PlayStation 4\", \"PlayStation 5\", \"macOS\", \"Linux\", \"Xbox360\", \"Android\", \"Nintendo Switch\", \"iOS\", \"Xbox One\", \"Xbox Series S/X\"]\r\n  \r\n//   const [errors, setErrors] = useState({})\r\n\r\n//   const [newVideogame, setNewVideogame] = useState({\r\n//     name: \"\",\r\n//     releaseDate: \"\",\r\n//     rating: \"\",\r\n//     imageUrl: \"\",\r\n//     description: \"\",\r\n//     platforms: \"\",\r\n//     genres: [],\r\n//   });\r\n\r\n//   useEffect(() => {\r\n//     dispatch(getGenres());\r\n//   }, [\r\n//     dispatch,\r\n//   ]);\r\n\r\n//   const validateName = (name) => {\r\n//     let validate = stateVideogames.map(el => el.name)\r\n//     return validate.includes(name) \r\n//   }\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     if(validateName(newVideogame.name)){\r\n//       alert(`${newVideogame.name} already exists`)\r\n//     }else{\r\n//     setNewVideogame({\r\n//       name: \"\",\r\n//       releaseDate: \"\",\r\n//       rating: \"\",\r\n//       imageUrl: \"\",\r\n//       description: \"\",\r\n//       platforms: \"\",\r\n//       genres: [],\r\n//     })\r\n//     await axios.post(\"http://localhost:3001/videogame/create\", newVideogame)\r\n//     alert(`${newVideogame.name} was created successfully!`)\r\n//     history.push(\"/home\")\r\n//     }\r\n//   };\r\n\r\n//   const handleChange = (e) => {\r\n//     setNewVideogame({\r\n//       ...newVideogame,\r\n//       [e.target.name]: e.target.value,\r\n//     });\r\n//     setErrors(validate({\r\n//       ...newVideogame,\r\n//       [e.target.name] : e.target.value\r\n//     }))\r\n//   };\r\n\r\n//   const handleSelect = (e) => {\r\n//     updGenres(e)\r\n//     setNewVideogame({\r\n//       ...newVideogame,\r\n//       genres: newVideogame.genres.includes(e.target.value) ? newVideogame.genres : newVideogame.genres.push(e.target.value),\r\n//     });\r\n//     setErrors(validate({\r\n//       ...newVideogame,\r\n//       genres : newVideogame.genres\r\n//     }))\r\n//   };\r\n\r\n//   const updGenres = (g) => {\r\n//     let arr = newVideogame.genres\r\n//     let val = g.target.value\r\n//     arr = arr.includes(val) ? arr : arr.push(val)\r\n//   }\r\n\r\n//   const handleChoice = (op) => {\r\n//     setNewVideogame({\r\n//       ...newVideogame,\r\n//       platforms: !newVideogame.platforms.includes(op.target.value) ? newVideogame.platforms.concat(newVideogame.platforms.length > 0 ? \", \" + op.target.value : op.target.value) : newVideogame.platforms\r\n//     })\r\n//     setErrors(validate({\r\n//       ...newVideogame,\r\n//       platforms : op.target.value\r\n//     }))\r\n//   };\r\n\r\n//   const handleResetPlatforms = (e) => {\r\n//     e.preventDefault()\r\n//     setNewVideogame({\r\n//       ...newVideogame,\r\n//       platforms: ''\r\n//     })\r\n//   }\r\n//   const handleResetGenres = (e) => {\r\n//     e.preventDefault()\r\n//     setNewVideogame({\r\n//       ...newVideogame,\r\n//       genres: []\r\n//     })\r\n//   }\r\n  \r\n//   const getGname = (g) => {\r\n//     let label\r\n//     stateGenre.map(o => o.id === g ? label = o.name : false)\r\n//     return label\r\n//   }\r\n\r\n//   return (\r\n//     <div className={styles.form}>\r\n//       <h1>Create your own Videogame</h1>\r\n//       <form onSubmit={(e)=>{handleSubmit(e)}}>\r\n//         <div>\r\n//         <label className={styles.labels}>Name:</label>\r\n//         <input name=\"name\" value={newVideogame.name} onChange={handleChange} className={styles.inputs}/>\r\n//         <div className={styles.warningError}>{errors.name}</div>\r\n//         </div>\r\n//         <div>\r\n//         <label className={styles.labels}>Release Date:</label>\r\n//         <input type='date' name=\"releaseDate\" value={newVideogame.releaseDate} onChange={handleChange} className={styles.inputs}/>\r\n//         <div className={styles.warningError}>{errors.releaseDate}</div>\r\n//         </div>\r\n//         <div>\r\n//         <label className={styles.labels}>Rating:</label>\r\n//         <input type='number' min='0' max='5' name=\"rating\" step=\"0.01\" value={newVideogame.rating} onChange={handleChange} className={styles.inputs}/>\r\n//         <div className={styles.warningError}>{errors.rating}</div>\r\n//         </div>\r\n//         <div>\r\n//         <label className={styles.labels}>ImageURL:</label>\r\n//         <input name=\"imageUrl\" value={newVideogame.imageUrl} onChange={handleChange} className={styles.inputs}/>\r\n//         <div className={styles.warningError}>{errors.imageUrl}</div>\r\n//         </div>\r\n//         <div>\r\n//         <label className={styles.labels}>Description:</label>\r\n//         <input name=\"description\" value={newVideogame.description} onChange={handleChange} className={styles.inputs}/>\r\n//         <div className={styles.warningError}>{errors.description}</div>\r\n//         </div>\r\n//         <div>\r\n//         <label className={styles.labels}>Platforms:</label>\r\n//         <select className={styles.selectors} onChange={handleChoice}>\r\n//           <option disabled selected>Select platforms...</option> \r\n//           {platformsArr.map((op, i) =>{return <option value={op} key={i}>{op}</option>})}\r\n//         </select>\r\n//         <div>{newVideogame.platforms}</div>\r\n//         <button onClick={(e)=>handleResetPlatforms(e)} className={styles.buttonReset}>Clear</button>\r\n//         <div className={styles.warningError}>{errors.platforms}</div>\r\n//         </div>\r\n//         <div>\r\n//         <label className={styles.labels}>Genres:</label>\r\n//          <select className={styles.selectors} onChange={handleSelect}>\r\n//          <option disabled selected>Select genres...</option> \r\n//            {stateGenre.map((op, i) =>{\r\n//           return <option value={op.id} key={i}>{op.name}</option>\r\n//         })}</select>\r\n//         <button onClick={(e)=>handleResetGenres(e)} className={styles.buttonReset}>Clear</button>\r\n//         <div>{newVideogame.genres.map(g => getGname(g)).join(\", \")}</div>\r\n//         <div className={styles.warningError}>{errors.genres}</div>\r\n//         </div>\r\n//         <Link to='/home'><button  className={styles.button}>Back</button></Link>\r\n//         <button type=\"submit\" disabled={!newVideogame.name || !newVideogame.releaseDate || !newVideogame.imageUrl || !newVideogame.rating || !newVideogame.description || !newVideogame.platforms || !newVideogame.genres.length} className={styles.button}>Create</button>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n\r\n// export default CreateVideogame;\r\n"],"mappings":"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AAA;MAAA,QAhDF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAuDD;;GAtKe9C,e;UACEb,U,EACCJ,W,EACED,W,EACKA,W;;;KAJVkB,e;AA0KhB,eAAeA,eAAf,C,CAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA"},"metadata":{},"sourceType":"module"}